<header class="fixed inset-x-0 top-0 z-50 border-b border-b-white/10 transition duration-150">
  {# Main nav #}
  <nav aria-label="Global" class="mx-auto flex max-w-7xl items-center justify-between gap-x-6 p-6 lg:px-8 lg:py-4 transition duration-150">
    {# Logo #}
    <div class="flex lg:flex-1">
      <a href="/" class="-m-1.5 p-1.5">
        <span class="sr-only">Dreamcode</span>
        <img src="/assets/images/logo-light.png" alt="" class="logo-image h-8 w-auto"/>
      </a>
    </div>

    {# Nav items #}
    <div class="hidden lg:flex lg:gap-x-12">
      <a href="/#process" class="header-link text-base/6 font-normal tracking-wide text-white">Process</a>
      <a href="/#testimonials" class="header-link text-base/6 font-normal text-white">Testimonials</a>
      <a href="/#pricing" class="header-link text-base/6 font-normal text-white">Pricing</a>
      <a href="/#faqs" class="header-link text-base/6 font-normal text-white">FAQs</a>
    </div>

    {# CTA #}
    <div class="hidden sm:flex flex-1 items-center justify-end gap-x-6">
      <a href="{{ site.cta_url }}" class="rounded-4xl bg-waikawa-gray-500 tracking-wide px-6 py-2.5 text-base font-normal text-white shadow-xs hover:bg-waikawa-gray-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-waikawa-gray-500">Book a Call</a>
    </div>

    {# Mobile drawer button #}
    <div class="flex lg:hidden">
      <button type="button" command="show-modal" commandfor="mobile-menu" class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-white header-link">
        <span class="sr-only">Open main menu</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6">
          <path d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
  </nav>

  {# Mobile drawer #}
  <el-dialog>
    <dialog id="mobile-menu" class="backdrop:bg-transparent lg:hidden">
      <div tabindex="0" class="fixed inset-0 focus:outline-none">
        <el-dialog-panel class="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white p-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10">
          <div class="flex items-center gap-x-6">
            <a href="/" class="-m-1.5 p-1.5">
              <span class="sr-only">Dreamcode</span>
              <img src="/assets/images/logo-dark.png" alt="" class="h-8 w-auto"/>
            </a>
            <button type="button" command="close" commandfor="mobile-menu" class="-m-2.5 rounded-md p-2.5 text-waikawa-gray-700">
              <span class="sr-only">Close menu</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6">
                <path d="M6 18 18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          <div class="mt-6 flow-root">
            <div class="-my-6 divide-y divide-gray-500/10 dark:divide-gray-500/30">
              <div class="space-y-2 py-6">
                <a href="/#process" class="dc-ensure-close-dialog -mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-waikawa-gray-900 hover:bg-gray-50">Process</a>
                <a href="/#testimonials" class="dc-ensure-close-dialog -mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-waikawa-gray-900 hover:bg-gray-50">Testimonials</a>
                <a href="/#pricing" class="dc-ensure-close-dialog -mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-waikawa-gray-900 hover:bg-gray-50">Pricing</a>
                <a href="/#faqs" class="dc-ensure-close-dialog -mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-waikawa-gray-900 hover:bg-gray-50">FAQs</a>
              </div>
              <div class="py-6 flex">
                <a href="{{ site.cta_url }}" class="dc-ensure-close-dialog rounded-4xl bg-waikawa-gray-500 tracking-wide px-6 py-2.5 text-base font-normal text-white shadow-xs hover:bg-waikawa-gray-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-waikawa-gray-500">Book a Call</a>
              </div>
            </div>
          </div>
        </el-dialog-panel>
      </div>
    </dialog>
  </el-dialog>
</header>
<script type="module">
  const dialog = document.getElementById('mobile-menu');
  dialog
    .querySelectorAll('.dc-ensure-close-dialog')
    .forEach((link) => {
      link.addEventListener('click', () => {
        dialog.close();
      });
    });
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const el = document.querySelector("header");
    const nav = el.querySelector("nav");
    const headerLinks = el.querySelectorAll(".header-link")
    const logo = el.querySelector(".logo-image")

    // Classes to apply when scrolled
    const headerClasses = ["border-black/20", "bg-white", "backdrop-blur-md", "drop-shadow-sm"]
    const navClasses = ["lg:py-3"]

    function toggleShadow() {

      if (window.scrollY > 0) {
        el
          .classList
          .add(...headerClasses);

        nav
          .classList
          .add(...navClasses)

        nav
          .classList
          .remove("lg:py-4")

        logo.src = "/assets/images/logo-dark.png";

        headerLinks.forEach(headerLink => {
          headerLink
            .classList
            .remove("text-white")

          headerLink
            .classList
            .add("text-waikawa-gray-900")
        })
      } else {
        el
          .classList
          .remove(...headerClasses);

        nav
          .classList
          .remove(...navClasses)

        nav
          .classList
          .add("lg:py-4")

        logo.src = "/assets/images/logo-light.png";

        headerLinks.forEach(headerLink => {
          headerLink
            .classList
            .remove("text-waikawa-gray-900")

          headerLink
            .classList
            .add("text-white")
        })
      }
    }

    // Run once on page load
    toggleShadow();

    // Update on scroll
    window.addEventListener("scroll", toggleShadow);
  });
</script>